<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Withdrawal Area - Admin</title>
<link rel="stylesheet" href="style.css">
<script src="app.js" defer></script>
</head>
<body>
<div id="topBar"><div class="rainbow-text">Admin - Withdrawal Area</div></div>

<div class="section">
  <button onclick="location.href='index.html'">Return Home</button>
</div>

<div class="section">
  <h3>User Withdrawals</h3>
  <div id="withdrawList" style="max-height:400px;overflow-y:auto;"></div>
</div>

<script>
let withdrawals = JSON.parse(localStorage.getItem('withdrawals')||'[]');

function displayWithdrawals(){
  const list = document.getElementById('withdrawList');
  list.innerHTML = withdrawals.map((w,i)=>`
    <div style="border-bottom:1px solid #555;padding:5px;">
      <p>User: ${w.user}</p>
      <p>Amount: ${w.amount}</p>
      <p>Status: ${w.status}</p>
      <p>Time: ${w.time}</p>
      <button onclick="updateStatus(${i},'Paid')">Mark Paid</button>
      <button onclick="updateStatus(${i},'Processing')">Mark Processing</button>
    </div>
  `).join('');
}

function updateStatus(index,status){
  withdrawals[index].status=status;
  localStorage.setItem('withdrawals',JSON.stringify(withdrawals));
  displayWithdrawals();
}

displayWithdrawals();
</script>
</body>
</html>
